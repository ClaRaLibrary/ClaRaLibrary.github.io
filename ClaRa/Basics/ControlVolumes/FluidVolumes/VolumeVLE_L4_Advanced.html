<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<title>VolumeVLE_L4_advanced</title>
	<meta name="generator" content="Zim 0.69">
	<meta name="viewport" content="width=device-width">
	<!-- <link href='http://fonts.googleapis.com/css?family=Open+Sans:300&subset=latin,greek,latin-ext' rel='stylesheet' type='text/css'> -->
	<![if !IE]>
	<!-- comment out for IE since it spams the user with warnings -->
	<script type='text/javascript' src='http://code.jquery.com/jquery-1.7.1.js'></script>
	<script type='text/javascript'>
		$(window).load(function(){$("#navigation").height( $("#content").height()+65 );});
	</script>
	<![endif]>
	<style>
		body, html {
			height:100%;
			font-family:'Open Sans', sans-serif;
			line-height:1.5em;
			font-weight:300;
			background-color:#FAFAFA;
			text-rendering:geometricPrecision;
			margin:0;
			padding:0;
		}
		.wrapper {
			height:100%;
			position:relative;
		}
		#navigation {
			background-color:#e8e9e9;
			display:inline-block;
			border-right:1px solid #EAEAEA;
			padding-right:65px;
			padding-top:20px;
			padding-left:25px;
			position:relative;
			float:left;
			min-height:100%;
		}
		#content {
			float:left;
			display:inline-block;
			position:absolute;
			max-width:960px;
			padding:65px;
		}
		#navigation ul {
			margin-top:0;
			margin-bottom:0;
			padding-left:40px;
			color: #0083A9
		}
		#navigation li {
			list-style-type:none;
		}
		#navigation a {
			text-decoration:none;
			color:#495055;
		}
		#navigation strong {
			color:#0083A9;
			font-weight:400;
		}
		#navigation a:hover {
			text-decoration:underline;
			color: #767c7f
		}
		#content h1:nth-child(1) {
			margin-top:0;
		}
		h1 {
			color:#0083A9;
			font-weight:700;
			margin-bottom: 5;
			text-decoration: underline;
		}
		h2,h3 {
			color:#0083A9;
			font-weight:300;
			margin-bottom: 2;
			text-decoration: none;
		}
		h4 {
			color:#767c7f;
			font-weight:200;
			margin-bottom: 0;
		}
		h5 {
			color:#66b5cb;
			font-weight:200;
			margin-bottom: 0;
		}
		p {
			margin-top: 0;
		}
		#content a {
			color:#739600;
			text-decoration: none;
		}
		#content a:hover {
			text-decoration: underline;
		}
		#content a:active {
			text-decoration: underline;
		}
		#content strike {
			color: grey;
		}
		#content u {
			text-decoration: none;
			background-color: none;
			color: #a71930
		}
		#content tt {
			color: #495055;
		}
		#content pre {
			color: #495055;
			margin-left: 20px;
		}
		#content b {
			color: #1b242a;
			font-weight: bold;
		}
		# kopfzeile{
			background-color:#739600;
			display:inline-block;
			border-right:1px solid #EAEAEA;
			padding-right:65px;
			padding-top:65px;
			padding-left:25px;
			position:relative;
			float:left;
			min-height:100%;
		}
		.backlinks {
			color:#495055;
		}
		hr.footnotes {
			width: 20%;
			margin-left: 0;
		}
		@media print{
			#navigation{
				background-color:#FFF;
			}
		}

		span.zim-tag {
			color: #739600;
		}
		div.zim-object {
			border-style:solid;
			border-width:1px;
		}

		.checked-box {list-style-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAANOgAADMQBiN+4gQAAAAd0SU1FB9gKGQ8sMEGsKGkAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAEBUlEQVRIx62V22tdRRTGf7Nn73P2ybntnNOe3NqkPTGgLTVUUZF6QatSLOKTPgqCIqLgQ0H/A1sQQbBYCBb1QfAxiC8tSO1FqHkwJVKtjdTGNraUmObsc9nXmfGh7cGYpM1D5nHWzPetteZb3wg2eB2YqYm4zSadsMtoboiNBH/3TE0awx6j+MRoxoTg/IYRvP19TQrJS0bzhdHGSyKFkLTtjSKwMjyiEz43ynhtP6bdjBCWyFobAf7eT7VhNF/q1FRbjYjmUohlCVPwnB+6FUxMTJipqSmUUhhjEGKd3bMT4ks/Y6oLBK2Yth8hHYtCJXOix7Nf7xLMzc0xOzvLzp078TyPNE3viW3QJPXzhNWbxFFKHCmMhoLn/FHodd48vGfhapdAacXQlkFK5dL6wIUm6fuTZPuvqDQhaMUYYyiVyuQr6rXDexYuAdi3tSv1ZJNs/R/CaszzT+1na88uXFnCEnJVgivBNN8uTJKmHQI/ptOOcXNZzMz9mOqFs90OHpipWcYwlo5P4ebnuOkrvr5wgrH+h3im7y36MzuwRXYZeKha/OhP0EkadFoxQSdGSotedR/+XwMc2XvKdNUFOFqZx6LKZWIiwjgkikNmLp/hm8sH+K1zjFTHXfBYdTi+eJArzXM0GxFxoBDCopLvo/fqEwi1XPkWkGqjFo2TgB1jOYZUKZTS/D1/ncmLh7jon0IbRWoiTi59ymzzJEEQE3cStNZsGxqlfPE57MBbOR8fP3hDGalOO9fq2DlBvmZw8xa2IxACGn6TydlD/O6f5OzSV/zif0cYhLQaEXGkKBbz7Ov/AOlXV1cxgBJRI3fuSTrpTawt18kWIZN1CFuaONI0w0WOXfsI43YIggh/KUSlhqxrMz74AkOZcWBm9QkH+Gw8NDLuITi+m0yzhluSyJzBLcpblUhFxywSRAEtPwQjsKVN30CNh0uvYuOubSHLtN3J0TO1j0pmBNuFbFWRK0gyPRZpktL2I5JQkclKakNlnh54g6ocvevUr/Ai2a7wineEkcJupA3S1Wg0nVZM2E6wbEF5U5G9Q++wI7sfR7h3N8HVNstykBfzH+KJEZwiWD0aIwxCgJ0R1Mu7GXOeJSuK93bZtQIle4D9pUNU5DC5jEsu55AvZakM5NicGyEj8uuz8bUCQgj67QfY671P3vEoeC69gy695U1U7NG7XV0pUwBjDJa1/JJlWWxzHuflzQe5FJ/GsgUVuZ2t8lEkTvfc0aNHb72flBhjVicQQqCUuvM3/M+WDVguWBrMVdDXEGZlBVEUrVCU9d9s5+fnaTQa2PZyPxEIhJaI1EEoZwX4ncynp6fXrmB4eJjR0VFarRbNZnP9P9rt9gohqNVq1Ov1ZbF/AZGev3hLJ2/zAAAAAElFTkSuQmCC)}
		.xchecked-box {list-style-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAANOgAADMQBiN+4gQAAAAd0SU1FB9gKGQ8bDYnDxEwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAEK0lEQVRIx9WVS2hTWRjHf/eR3CY1nbxMH2YiZRQS6qO13YlMVxY3SnVcuNIBFezGpSADLoQqLu1sHJCqdCFSXFpw4YOCSH3BtFqttTNamabX3DS5bfO6uffMoglja3RGcDMHzuac7/z/53++//cd+L8P6VuCPQYZ8ADNgBd4J31DcDcQs+GnHByRocEDv0kfBSjAOlYCs11Q+gpwDegS8LMJ+3QIK0ATzEhV8Odnz5bzw8P4dJ25aJQ/WlvJ1df/K7hSLtOcTNI+Pk69rpMTgqIQhCDvh1/VSpw79+gRrRMTmLZNezLJJsPg+a5dmOEwQlFqg1sWG16/Jv7sGWXDwBACFQjC9HcwIMONKkGp4PGAJGEDS0IQmZlhnWnye3c3eiyGo6qr3WHbrJ+dJf7gAXI6zSIr72T7/fgzmT4FHnTBsgrQBfYvTU0km5vxz86iADnAm0rRPTWFt7cXZccOJJcLAGHb2K9ekT93jmwmwwdAAFpjI6Ntbfxw5879ag7l6o1sr5eHHR3IsRgeQK/M4sQE+YEB7JcvEY6zAj45SWFgAPPxYwzHoQxIkQjTPT0kIxE+Noj8sexFn4/xnh58iQTeSpHkHAdrbIzi0BCOrmNPTpK/eJHM3bt8sCyKQCiR4NWePWSiUZw1+ZLXJm4pFKLhzBlCsRh2RUXacVgeGaF47RrL58+zcP8+RrmMkCQinZ1EL1zAjERqmkH+tLYl1G3bCJw4QUjT0IA0MJfLMX/5MqmHD0nZNiUgtGULG/r7ccXjINWuWbnmqsuFu7sb/4EDNLlcBIEioNs2KUAFGmMxmk6dQm1tRZI+3xBqEkiShBQOox05Ql1nJ26gvuIUAWiKQnj/ftStW5Fk+YuF+NldsbBA4cYN9KdPmaso8Fc62ZJtk7l1C2t0FGdxESHE1xE4hkHh6lX0oSHSpRIewC/LrPf7CSgKNpCamkI/fZr8pUuIZBIcpyaBunahPp1mub+fDyMjGKUSChCsq6Nh717q9u2jbnSU0uAgRrFIwTThyhUCqRS+hgZKLS1fJvDm87SNjZGcnsYUAjcQ8vsJ9/Xh7u1FDgRQN20iks3iDA+zZFmYhQLqzZtsj8WY3L0baY2Sf55ICCKpFHUzM2SEQAJCHg+hY8fQDh5EDgRWDoRC1J88SePRo2geD0XAcBy8b98Sv3ePYDZbbf2rFQjLIphMsmDbaEBQVQkePox26BCSz7e6i4bDrDt+nGYhmBscpFAskheC4Js3bPR4qHphFYEnlcI7P4/jdqNpGu8TCe4oCsXr1z//F2ga3+/cSfTJE0qmSVYIsKzaOZDcbjKyzFIiwfvt21kMBLA07YsetzWNd+3tLLW0sH5igvT8PH9Go/z44kX+E4LGjg7GDYOcy4XlOEgLC//5P/5LCFzxOPLmzWyIx+m6fduu7v0NVGqyTSycKksAAAAASUVORK5CYII=)}
		.unchecked-box {list-style-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAANOgAADMQBiN+4gQAAAAd0SU1FB9gKGQ8qAt8h3m8AAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAA60lEQVRIx+2VsQqDMBRF70sCLg5OLoKgjk7+lJ/hh+STXBwcnRz8ArMEkrxOFktbaC3tULzTg5e8k5vADXDq70VbobXmvu/hvQczg4heHrJfXxQFuq67blZbMc8zpmlCXddIkgTOuZcBUko45zCOI6y1Nz2xFSEEZFmGOI7fGg4A3nsQEZqmuXOu9jallACAtm3fvmutNaIoAjM/dkBECCF89KCbk4eAb+kEnIAT8EsAM0OIz3hSyrssUvss8t5fg+uIrLXPs0gIgWVZYIyBUurQyYdheO4gz3NUVQVjDNZ1PfSjpWmKsixvehfB9GBZ3NndrgAAAABJRU5ErkJggg==)}
		ul {list-style-image: none}
		/* ul rule needed to reset style for sub-bullets */

	</style>
</head>

<body>
	<div class="wrapper">
		<div id="kopfzeile"> <img src = "../../../../_resources/ClaRaInfoHeader.png" alt=""/></div><br>
		<div id="navigation"> <ul>
<li><a href="../../../../ClaRa.html" title="ClaRa" class="page">ClaRa</a>
<ul>
<li><a href="../../../A_User_Guide.html" title="A User Guide" class="page">A User Guide</a></li>
<li><a href="../../../Basic_Concepts_of_Modelling.html" title="Basic Concepts of Modelling" class="page">Basic Concepts of Modelling</a></li>
<li><a href="../../../Basics.html" title="Basics" class="page">Basics</a>
<ul>
<li><a href="../../ControlVolumes.html" title="ControlVolumes" class="page">ControlVolumes</a>
<ul>
<li><a href="../FluidVolumes.html" title="FluidVolumes" class="page">FluidVolumes</a>
<ul>
<li><a href="./VolumeVLEGas_L3.html" title="VolumeVLEGas L3" class="page">VolumeVLEGas L3</a></li>
<li><a href="./VolumeVLE_L2.html" title="VolumeVLE L2" class="page">VolumeVLE L2</a></li>
<li><a href="./VolumeVLE_L3_TwoZones.html" title="VolumeVLE L3 TwoZones" class="page">VolumeVLE L3 TwoZones</a></li>
<li><a href="./VolumeVLE_L3_TwoZonesNPort.html" title="VolumeVLE L3 TwoZonesNPort" class="page">VolumeVLE L3 TwoZonesNPort</a></li>
<li><a href="./VolumeVLE_L4.html" title="VolumeVLE L4" class="page">VolumeVLE L4</a></li>
<li><b>VolumeVLE L4 Advanced</b></li>
</ul>
</li>
<li><a href="../Fundamentals.html" title="Fundamentals" class="page">Fundamentals</a></li>
<li><a href="../GasVolumes.html" title="GasVolumes" class="page">GasVolumes</a></li>
<li><a href="../SolidVolumes.html" title="SolidVolumes" class="page">SolidVolumes</a></li>
</ul>
</li>
<li><a href="../../Functions.html" title="Functions" class="page">Functions</a></li>
<li><a href="../../Interfaces.html" title="Interfaces" class="page">Interfaces</a></li>
<li><a href="../../Media.html" title="Media" class="page">Media</a></li>
<li><a href="../../Records.html" title="Records" class="page">Records</a></li>
</ul>
</li>
<li><a href="../../../Components.html" title="Components" class="page">Components</a></li>
<li><a href="../../../Examples.html" title="Examples" class="page">Examples</a></li>
<li><a href="../../../SimCenter.html" title="SimCenter" class="page">SimCenter</a></li>
<li><a href="../../../StaticCycles.html" title="StaticCycles" class="page">StaticCycles</a></li>
<li><a href="../../../SubSystems.html" title="SubSystems" class="page">SubSystems</a></li>
<li><a href="../../../Visualisation.html" title="Visualisation" class="page">Visualisation</a></li>
</ul>
</li>
<li><a href="../../../../ZIM_DocumentationTemplate.html" title="ZIM DocumentationTemplate" class="page">ZIM DocumentationTemplate</a></li>
</ul>
 </div>
		<div id="content">
			<h1>VolumeVLE_L4_advanced <a name='ClaRa:Basics:ControlVolumes:FluidVolumes:VolumeVLE L4 Advanced'></a></h1>

			<p>
Created Freitag 12 Januar 2018
</p>

<p>
<b>Generic finite volume model with 1D discretisation in flow direction.</b>
</p>

<h2>1. Purpose of Model</h2>

<p>
This model is applicable for modelling of pipe flow where mixture orthogonal to the flow direction and other 3D effects can be neglected. The model is generic in geometry, see <a href="../../../Components/VolumesValvesFittings/Pipes/PipeFlow_L4_Advanced.html" title="Components:VolumesValvesFittings:Pipes:PipeFlow L4 Advanced" class="page">Components:VolumesValvesFittings:Pipes:PipeFlow L4 Advanced</a> for an application with a cylindrical geometry.
</p>

<h2>2. Level of Detail, Physical Effects Considered and  Physical Insight</h2>

<br>

<h3>2.1 Level of Detail</h3>

<p>
Referring to Brunnemann et al. [1], this model refers to the level of detail <b>L4</b> because the system is modelled with the use of balance equations, which are discretised in flow direction. The number of finite volumes <tt>N_cv</tt> can be set by the user. 
</p>

<h3>2.2 Physical Effects Considered</h3>

<br>

<h3>2.3 Level of Insight</h3>

<p>
The following physical effects are considered and available at different levels of insight which are implemented as replaceable models.
</p>

<h4>Pressure Loss</h4>

<p>
<a href="../Fundamentals/PressureLoss/Generic_PL/NoFriction_L4.html" title="Basics:ControlVolumes:Fundamentals:PressureLoss:Generic PL:NoFriction L4" class="page">Basics:ControlVolumes:Fundamentals:PressureLoss:Generic PL:NoFriction L4</a><br>
<a href="../Fundamentals/PressureLoss/Generic_PL/LinearPressureLoss_L4.html" title="Basics:ControlVolumes:Fundamentals:PressureLoss:Generic PL:LinearPressureLoss L4" class="page">Basics:ControlVolumes:Fundamentals:PressureLoss:Generic PL:LinearPressureLoss L4</a><br>
<a href="../Fundamentals/PressureLoss/Generic_PL/QuadraticNominalPoint_L4.html" title="Basics:ControlVolumes:Fundamentals:PressureLoss:Generic PL:QuadraticNominalPoint L4" class="page">Basics:ControlVolumes:Fundamentals:PressureLoss:Generic PL:QuadraticNominalPoint L4</a><br>
<a href="../Fundamentals/PressureLoss/VLE_PL/QuadraticNominalPoint_L4.html" title="Basics:ControlVolumes:Fundamentals:PressureLoss:VLE PL:QuadraticNominalPoint L4" class="page">Basics:ControlVolumes:Fundamentals:PressureLoss:VLE PL:QuadraticNominalPoint L4</a>
</p>

<h4>Heat Transfer</h4>

<p>
<a href="../Fundamentals/HeatTransport/Generic_HT/IdealHeatTransfer_L4.html" title="Basics:ControlVolumes:Fundamentals:HeatTransport:Generic HT:IdealHeatTransfer L4" class="page">Basics:ControlVolumes:Fundamentals:HeatTransport:Generic HT:IdealHeatTransfer L4</a><br>
<a href="../Fundamentals/HeatTransport/Generic_HT/Constant_L4.html" title="Basics:ControlVolumes:Fundamentals:HeatTransport:Generic HT:Constant L4" class="page">Basics:ControlVolumes:Fundamentals:HeatTransport:Generic HT:Constant L4</a><br>
<a href="../Fundamentals/HeatTransport/Generic_HT/CharLine_L4.html" title="Basics:ControlVolumes:Fundamentals:HeatTransport:Generic HT:CharLine L4" class="page">Basics:ControlVolumes:Fundamentals:HeatTransport:Generic HT:CharLine L4</a><br>
<a href="../Fundamentals/HeatTransport/VLE_HT/NusseltPipe_L4.html" title="Basics:ControlVolumes:Fundamentals:HeatTransport:VLE HT:NusseltPipe L4" class="page">Basics:ControlVolumes:Fundamentals:HeatTransport:VLE HT:NusseltPipe L4</a>
</p>

<h2>3. Limits of Validity</h2>

<p>
<ul>
<li>zero flow is not fully supported and will usually cause mass flow chattering and other numerical problems</li>
<li>stratified flow patterns or other strongly inhomogeneous flow regimes (like superheated ring flow) are not considered</li>
<li>no chemical reactions considered</li>
</ul>
</p>

<h2>4. Interfaces</h2>

<br>

<p>
<ul>
<li>pressure and mass flow states at inlet/outlet connectors (if frictionAtInlet/frictionAtInlet = true)</li>
<li>oscillations surpression at inlet/outlet halfcells (if frictionAtInlet/frictionAtInlet = true)</li>
<li>enthalpy at inlet/outlet connectors calculated at first/last energy cell (for negative flows) or at inStream of first/last energy cell (for positive flows) or as as averaged of both previous cases (for "very small (zero)" flows)
<ul>
<li>This allows to avoid chattering during zero flows due to avoiding usage of actualStream</li>
</ul></li>
</ul>
</p>

<br>

<h2>5. Nomenclature</h2>

<p>
a table referencing the nomenclature in the source code, the descriptions of variables and the "human-readable" , use the following latex table template <b>and respect the overall textwidth of 150mm</b>:<br>
<img src="./VolumeVLE_L4_Advanced/equation002.png">
</p>

<h2>6. Governing Equations</h2>

<br>

<h3>6.1 System Description and General Modelling Approach</h3>

<p>
The finite volume approach is applied to transform the partial differential equations defined by the balance equations for energy, mass and momentum into a set of ordinary differential equations. See <a href="../../../Basic_Concepts_of_Modelling/Finite_Volume_Approach.html" title="Basic Concepts of Modelling:Finite Volume Approach" class="page">Basic Concepts of Modelling:Finite Volume Approach</a> for details of this transformation and its application to the 1D flow case. Discretisation may be non-equidistant. Mass sources and sinks are limited to the two ports, namely inlet and outlet, see figure below. The model allows for various geometries, also with variable cross section. All geometry informations are taken from a replaceable geometry model named geo where the local cross section <img src="./VolumeVLE_L4_Advanced/equation.png"> and the local volume <img src="./VolumeVLE_L4_Advanced/equation001.png"> are calculated.<br>
<img src="./VolumeVLE_L4_Advanced/GeneralGeometryLayout.png" width="400"><br>
For the sake of simplicity, we stick to a tube like geometry.
</p>

<h3>6.2 General Model Equations</h3>

<br>

<h4>Discretisation</h4>

<p>
Then a 1-dimensional spatially discretised pipe flow can be modelled by <img src="./VolumeVLE_L4_Advanced/equation058.png"> control volumes. The cross sectional areas are then denoted by <img src="./VolumeVLE_L4_Advanced/equation059.png">. Each control volume now carries a label 1,2,3,...,<img src="./VolumeVLE_L4_Advanced/equation058.png"> .<br>
<img src="./VolumeVLE_L4_Advanced/1dDiscretizationPipe.png" width="500">
</p>

<p>
This leads to a the following 1-dimensional discretisation scheme, where we have introduced a labelling by <img src="./VolumeVLE_L4_Advanced/equation096.png"> .
</p>

<p>
<img src="./VolumeVLE_L4_Advanced/1dDiscretizationSchemeEnergyCells.png" width="900">
</p>

<p>
In the figure above each control volume is given similar to the 0-dimensional case. 
</p>

<h4>Mass Conservation</h4>

<p>
<div style='padding-left: 60pt'>
 <img src="./VolumeVLE_L4_Advanced/equation092.png">
</div>
<img src="./VolumeVLE_L4_Advanced/equation100.png">
</p>

<h4>Species Conservation</h4>

<p>
<div style='padding-left: 60pt'>
<img src="./VolumeVLE_L4_Advanced/equation095.png">
</div>
<img src="./VolumeVLE_L4_Advanced/equation101.png">
</p>

<br>

<h4>Energy Conservation</h4>

<p>
<div style='padding-left: 60pt'>
<img src="./VolumeVLE_L4_Advanced/equation093.png">
</div>
<img src="./VolumeVLE_L4_Advanced/equation102.png">
</p>

<p>
Notice that we have mass flows and state locations shifted by a half cell. This implies that we have to work effectively with a double resolution grid, as can be seen in the balance equations. Therefore we have introduced the formal <img src="./VolumeVLE_L4_Advanced/equation099.png"> in the labelling.<br>
When working with a double resolution grid in the Modelica code it is  necessary to introduce a second label <img src="./VolumeVLE_L4_Advanced/equation097.png"> where even  <img src="./VolumeVLE_L4_Advanced/equation097.png"> label energy state locations and odd <img src="./VolumeVLE_L4_Advanced/equation097.png"> label mass flow locations, as can be seen from the figure above. <br>
This implies that <img src="./VolumeVLE_L4_Advanced/equation098.png"> need to be interpolated at odd <img src="./VolumeVLE_L4_Advanced/equation097.png"> and mass flows / velocities need to be interpolated at even <img src="./VolumeVLE_L4_Advanced/equation097.png">.
</p>

<h4>Momentum Conservation</h4>

<p>
The necessity of working with a double resolution grid becomes more clear, if we take a look at the momentum balance:<br>
The momentum states are located at the mass flow locations at the border between two energy cells. Hence we need to introduce momentum control volumes that are shifted by a half cell from the energy cells. This is sometimes called a staggered grid in the literature [1,2]. The situation can be seen in the following figure, where we have introduced the flow grid and add subscripts "FM" to quantities of the flow model.
</p>

<p>
<img src="./VolumeVLE_L4_Advanced/1dDiscretizationSchemeEnergyFlowCells.png" width="900">
</p>

<p>
<div style='padding-left: 90pt'>
<img src="./VolumeVLE_L4_Advanced/equation094.png">
</div>
 <img src="./VolumeVLE_L4_Advanced/equation103.png"><br>
Notice that we have used the definition of the volume of a flow model cell as <img src="./VolumeVLE_L4_Advanced/equation104.png">, so the flow cross sectional area has cancelled here.<br>
Gravitational pressure difference <img src="./VolumeVLE_L4_Advanced/equation107.png"> will be computed from the z-position of the flow cell boundaries. Pressure difference due to friction <img src="./VolumeVLE_L4_Advanced/equation108.png"> has to be computed from a pressure loss model (see <a href="../../../Basic_Concepts_of_Modelling/Pressure_Loss_L4_Volumes.html" title="Basic Concepts of Modelling:Pressure Loss L4 Volumes" class="page">Basic Concepts of Modelling:Pressure Loss L4 Volumes</a>). Pressure difference due to convection <img src="./VolumeVLE_L4_Advanced/equation109.png"> is computed from the momentum carried by the mass flows at the flow cell boundaries.
</p>

<br>

<h2>7. Remarks for Usage</h2>

<br>

<h2>8. Validation</h2>

<br>

<h2>9. References</h2>

<p>
[1]   <b>Johannes Brunnemann and Friedrich Gottelt, Kai Wellner, Ala Renz, André Thüring, Volker Röder, Christoph Hasenbein, Christian Schulze, Gerhard Schmitz, Jörg Eiden:</b> "Status of ClaRaCCS: Modelling and Simulation of Coal-Fired Power Plants with CO2 capture", 9th Modelica Conference, Munich, Germany, 2012 
</p>

<h2>10. Version History</h2>

<p>
<ul>
<li>2015 - v1.0.0 - initial implementation -  J.Brunnemann, F.Gottelt, T.Tumforde, XRG Simulation GmbH</li>
<li>2016-01-29 - v1.1.0 - updated pressure loss calculation at ports - F.Gottelt, XRG Simulation GmbH</li>
<li>2017-01-15 - v1.2.0 - updated init options (Integer based) - F.Gottelt, XRG Simulation GmbH</li>
<li>2017-07-27 - v1.2.1  - removed fluid objects at flow grid (average density is now used)</li>
</ul>
<div style='padding-left: 180pt'>
updated summary <br>
improved initialisation options - T.Hoppe, XRG Simulation GmbH
</div>
</p>



			<br>
			<span class="backlinks">
				<hr class='footnotes'>
				<b>Backlinks:</b>
				<a href='../../../Basic_Concepts_of_Modelling/Finite_Volume_Approach.html'>ClaRa:Basic Concepts of Modelling:Finite Volume Approach</a>
				
				<a href='../../../A_User_Guide/Revisions/v1.4.1.html'>ClaRa:A User Guide:Revisions:v1.4.1</a>
				
				<a href='./VolumeVLE_L4.html'>ClaRa:Basics:ControlVolumes:FluidVolumes:VolumeVLE L4</a>
				
				<a href='../GasVolumes/VolumeGas_L4_Advanced.html'>ClaRa:Basics:ControlVolumes:GasVolumes:VolumeGas L4 Advanced</a>
				<br /><br />
			</span>

			
		</div>
	</div>
</body>
</html>

